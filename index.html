<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Pola Makan Sehat Orang Indonesia</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Pola Makan Sehat Orang Indonesia</h1>
    <form id="wizardForm">
      <label for="email">Email:</label>
      <input type="email" name="email" id="email" required placeholder="your@email.com">

      <div id="questionContainer"></div>

      <button type="button" id="nextBtn">Next</button>
      <button type="button" id="submitBtn" style="display:none;">Kirim ke WhatsApp</button>
    </form>
    <div id="thankYouMessage" style="display:none;">
      <span>Terima kasih atas jawaban kamu!</span><br>
      <span class="final-message">Jawaban kamu siap dikirim lewat WhatsApp (pastikan klik tombol Kirim di WhatsApp yang muncul)</span>
    </div>
  </div>
  <script>
    const questions = [
      "1. Menurut kamu makanan junk food sehat atau tidak?",
      "2. Seberapa sering kamu mengonsumsi makanan junk food?",
      "3. Berapa kali kamu makan dalam sehari?",
      "4. Apakah kamu sering mengonsumsi soda/minuman berwarna?",
      "5. Apakah kamu sering mengonsumsi sayur sayuran?",
      "6. Sebutkan makanan yang bergizi dan tidak bergizi",
      "7. Menurut kamu makanan bergizi penting atau tidak bagi manusia?",
      "8. Sayur sayuran dan buah buahan apakah termasuk makanan bergizi?",
      "9. Apakah kamu hari ini sudah sarapan?",
      "10. Mengapa kebanyakan orang lebih suka mengonsumsi makanan junk food atau yang mengandung banyak minyak seperti gorengan?"
    ];

    let currentQuestion = 0;
    const answers = [];

    const emailInput = document.getElementById('email');
    const questionContainer = document.getElementById('questionContainer');
    const nextBtn = document.getElementById('nextBtn');
    const submitBtn = document.getElementById('submitBtn');
    const thankYouMessage = document.getElementById('thankYouMessage');
    const form = document.getElementById('wizardForm');

    function showQuestion(index) {
      questionContainer.innerHTML = `
        <label for="answer">${questions[index]}</label>
        <textarea id="answer" required placeholder="Jawaban kamu..."></textarea>
      `;
    }

    showQuestion(currentQuestion);

    nextBtn.addEventListener('click', function() {
      const answerField = document.getElementById('answer');
      if (!emailInput.value) {
        emailInput.focus();
        return;
      }
      if (!answerField.value) {
        answerField.focus();
        return;
      }
      answers[currentQuestion] = answerField.value;
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion(currentQuestion);
        if (currentQuestion === questions.length - 1) {
          nextBtn.style.display = "none";
          submitBtn.style.display = "inline-block";
        }
      }
    });

    submitBtn.addEventListener('click', function() {
      const answerField = document.getElementById('answer');
      if (!answerField.value) {
        answerField.focus();
        return;
      }
      answers[currentQuestion] = answerField.value;
      const phoneNumber = "6285146494804"; // WhatsApp format, 62 for Indonesia
      let message = `Email: ${emailInput.value}\n\n`;
      questions.forEach((q, i) => {
        message += `${q}\n${answers[i]}\n\n`;
      });
      const encodedMessage = encodeURIComponent(message);
      window.open(`https://wa.me/${phoneNumber}?text=${encodedMessage}`, "_blank");
      form.style.display = 'none';
      thankYouMessage.style.display = 'block';
    });
  </script>
</body>
</html>
