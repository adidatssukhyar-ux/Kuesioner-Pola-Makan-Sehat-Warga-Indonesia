<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Pola Makan Sehat Orang Indonesia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background: linear-gradient(135deg, #e5ffe5 0%, #fffbe5 100%);
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 500px;
      margin: 60px auto;
      padding: 30px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 2px 20px rgba(100,180,120,0.12);
      border: 2px solid #b5e7b7;
    }

    h1 {
      text-align: center;
      color: #35a35c;
      margin-bottom: 16px;
      font-size: 2em;
      letter-spacing: 1px;
    }

    label {
      display: block;
      margin-top: 16px;
      color: #22753e;
      font-weight: 500;
      font-size: 1.08em;
    }

    input[type="email"], textarea {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      border-radius: 8px;
      border: 1.5px solid #f5bc51;
      font-size: 1em;
      background: #fffde9;
      box-sizing: border-box;
      transition: border-color 0.2s;
    }

    input[type="email"]:focus, textarea:focus {
      border-color: #35a35c;
      outline: none;
    }

    textarea {
      min-height: 60px;
      resize: vertical;
    }

    button[type="button"], button[type="submit"] {
      margin-top: 20px;
      width: 100%;
      padding: 13px;
      background: linear-gradient(90deg, #35a35c 40%, #f5bc51 100%);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1.1em;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
      box-shadow: 0 2px 10px rgba(53,163,92,0.08);
    }

    button[type="button"]:hover, button[type="submit"]:hover {
      background: linear-gradient(90deg, #22753e 30%, #e9b742 100%);
      box-shadow: 0 4px 16px rgba(53,163,92,0.15);
    }

    #thankYouMessage {
      margin-top: 24px;
      color: #35a35c;
      text-align: center;
      font-size: 1.18em;
      padding: 15px 0;
      background: #eaffea;
      border-radius: 10px;
      border: 1.5px solid #b5e7b7;
    }

    .final-message {
      display: block;
      color: #f5bc51;
      font-size: 1.07em;
      margin-top: 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      font-size: 0.95em;
    }

    th, td {
      border: 1px solid #b5e7b7;
      padding: 10px;
      text-align: left;
      background: #fffde9;
    }

    th {
      background: #f5bc51;
      color: #22753e;
    }

    @media (max-width: 600px) {
      .container {
        margin: 30px 10px;
        padding: 20px;
      }

      h1 {
        font-size: 1.6em;
      }

      button {
        font-size: 1em;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Pola Makan Sehat Orang Indonesia</h1>
    <form id="wizardForm">
      <label for="email">Email kamu:</label>
      <input type="email" name="email" id="email" required placeholder="your@email.com">
      <div id="questionContainer"></div>
      <button type="button" id="nextBtn">Next</button>
      <button type="submit" id="submitBtn" style="display:none;">Kirim</button>
    </form>

    <div id="thankYouMessage" style="display:none; cursor:pointer;">
      Terimakasih telah menjawab, hasil anda akan dikirim ke email dalam waktu yang singkat
      <span class="final-message" style="display:none;">(maybe 2 days)</span>
    </div>

    <hr>
    <button id="showAnswersBtn" type="button">ðŸ“‹ Lihat Semua Jawaban</button>
    <div id="answersContainer" style="display:none;"></div>
  </div>

  <script>
    const questions = [
      "1. Menurut kamu makanan junk food sehat atau tidak?",
      "2. Seberapa sering kamu mengonsumsi makanan junk food?",
      "3. Berapa kali kamu makan dalam sehari?",
      "4. Apakah kamu sering mengonsumsi soda/minuman berwarna?",
      "5. Apakah kamu sering mengonsumsi sayur sayuran?",
      "6. Sebutkan makanan yang bergizi dan tidak bergizi",
      "7. Menurut kamu makanan bergizi penting atau tidak bagi manusia?",
      "8. Sayur sayuran dan buah buahan apakah termasuk makanan bergizi?",
      "9. Apakah kamu hari ini sudah sarapan?",
      "10. Mengapa kebanyakan orang lebih suka mengonsumsi makanan junk food atau yang mengandung banyak minyak seperti gorengan?"
    ];

    let currentQuestion = 0;
    let answers = [];

    const emailInput = document.getElementById('email');
    const questionContainer = document.getElementById('questionContainer');
    const nextBtn = document.getElementById('nextBtn');
    const submitBtn = document.getElementById('submitBtn');
    const thankYouMessage = document.getElementById('thankYouMessage');
    const finalMessage = document.querySelector('.final-message');
    const form = document.getElementById('wizardForm');
    const answersContainer = document.getElementById('answersContainer');
    const showAnswersBtn = document.getElementById('showAnswersBtn');

    function showQuestion(index) {
      questionContainer.innerHTML = `
        <label for="answer">${questions[index]}</label>
        <textarea id="answer" required placeholder="Jawaban kamu..."></textarea>
      `;
    }

    function loadStoredAnswers() {
      const stored = localStorage.getItem('allAnswers');
      return stored ? JSON.parse(stored) : [];
    }

    function saveAnswer(email, answers) {
      const allAnswers = loadStoredAnswers();
      allAnswers.push({ email, answers });
      localStorage.setItem('allAnswers', JSON.stringify(allAnswers));
    }

    function renderAnswers() {
      const allAnswers = loadStoredAnswers();
      if (allAnswers.length === 0) {
        answersContainer.innerHTML = "<p>Belum ada jawaban yang masuk.</p>";
      } else {
        let html = "<table><tr><th>Email</th><th>Jawaban</th></tr>";
        allAnswers.forEach(row => {
          html += `<tr><td>${row.email}</td><td>${row.answers.join(" | ")}</td></tr>`;
        });
        html += "</table>";
        answersContainer.innerHTML = html;
      }
    }

    showQuestion(currentQuestion);

    nextBtn.addEventListener('click', function() {
      const answerField = document.getElementById('answer');
      if (!emailInput.value) {
        emailInput.focus();
        return;
      }
      if (!answerField.value) {
        answerField.focus();
        return;
      }
      answers[currentQuestion] = answerField.value;
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion(currentQuestion);
        if (currentQuestion === questions.length - 1) {
          nextBtn.style.display = "none";
          submitBtn.style.display = "inline-block";
        }
      }
    });

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const answerField = document.getElementById('answer');
      if (!answerField.value) {
        answerField.focus();
        return;
      }
      answers[currentQuestion] = answerField.value;

      saveAnswer(emailInput.value, answers);

      form.reset();
      currentQuestion = 0;
      answers = [];
      show
