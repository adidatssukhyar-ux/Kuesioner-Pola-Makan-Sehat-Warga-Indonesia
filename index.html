<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Pola Makan Sehat Orang Indonesia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ====================================================== -->
  <!--                      STYLING SECTION                  -->
  <!-- ====================================================== -->

  <style>
    /* 1 */ body {
    /* 2 */   font-family: 'Segoe UI', sans-serif;
    /* 3 */   background: linear-gradient(135deg, #e5ffe5, #fffbe5);
    /* 4 */   margin: 0;
    /* 5 */   padding: 0;
    /* 6 */ }

    /* 7 */ .container {
    /* 8 */   max-width: 500px;
    /* 9 */   margin: 60px auto;
    /* 10 */  padding: 30px;
    /* 11 */  background: #fff;
    /* 12 */  border-radius: 16px;
    /* 13 */  box-shadow: 0 2px 20px rgba(100,180,120,0.12);
    /* 14 */  border: 2px solid #b5e7b7;
    /* 15 */ }

    /* 16 */ h1 {
    /* 17 */   text-align: center;
    /* 18 */   color: #35a35c;
    /* 19 */   margin-bottom: 16px;
    /* 20 */ }

    /* 21 */ label {
    /* 22 */   display: block;
    /* 23 */   margin-top: 16px;
    /* 24 */   color: #22753e;
    /* 25 */   font-weight: 500;
    /* 26 */ }

    /* 27 */ input[type="email"],
    /* 28 */ textarea {
    /* 29 */   width: 100%;
    /* 30 */   padding: 10px;
    /* 31 */   margin-top: 8px;
    /* 32 */   border-radius: 8px;
    /* 33 */   border: 1.5px solid #f5bc51;
    /* 34 */   font-size: 1em;
    /* 35 */   background: #fffde9;
    /* 36 */   box-sizing: border-box;
    /* 37 */ }

    /* 38 */ button {
    /* 39 */   margin-top: 20px;
    /* 40 */   width: 100%;
    /* 41 */   padding: 13px;
    /* 42 */   background: linear-gradient(90deg, #35a35c, #f5bc51);
    /* 43 */   color: #fff;
    /* 44 */   border: none;
    /* 45 */   border-radius: 8px;
    /* 46 */   font-size: 1.1em;
    /* 47 */   font-weight: 500;
    /* 48 */   cursor: pointer;
    /* 49 */ }

    /* 50 */ #thankYouMessage {
    /* 51 */   margin-top: 24px;
    /* 52 */   color: #35a35c;
    /* 53 */   text-align: center;
    /* 54 */   font-size: 1.1em;
    /* 55 */   background: #eaffea;
    /* 56 */   padding: 15px;
    /* 57 */   border-radius: 10px;
    /* 58 */   border: 1.5px solid #b5e7b7;
    /* 59 */   cursor: pointer;
    /* 60 */ }

    /* 61 */ #hiddenInfo {
    /* 62 */   display: none;
    /* 63 */   color: #f5bc51;
    /* 64 */   font-size: 0.95em;
    /* 65 */   margin-top: 10px;
    /* 66 */ }

    /* 67 */ #aiOverview {
    /* 68 */   display: none;
    /* 69 */   margin-top: 20px;
    /* 70 */   padding: 15px;
    /* 71 */   background: #fffde9;
    /* 72 */   border-radius: 10px;
    /* 73 */   border: 1.5px solid #f5bc51;
    /* 74 */   color: #22753e;
    /* 75 */   font-size: 1em;
    /* 76 */ }

    /* 77 */ table {
    /* 78 */   width: 100%;
    /* 79 */   border-collapse: collapse;
    /* 80 */   margin-top: 20px;
    /* 81 */ }

    /* 82 */ th,
    /* 83 */ td {
    /* 84 */   border: 1px solid #b5e7b7;
    /* 85 */   padding: 10px;
    /* 86 */   background: #fffde9;
    /* 87 */ }

    /* 88 */ th {
    /* 89 */   background: #f5bc51;
    /* 90 */   color: #22753e;
    /* 91 */ }
  </style>
</head>
<body>

  <!-- CONTAINER START -->
  <div class="container">

    <!-- TITLE -->
    <h1>Pola Makan Sehat Orang Indonesia</h1>


    <!-- ============================ -->
    <!--     SURVEY FORM SECTION      -->
    <!-- ============================ -->
    <form id="wizardForm">

      <!-- Email Input -->
      <label for="email">Email kamu:</label>
      <input
        type="email"
        id="email"
        required
        placeholder="your@email.com"
      >

      <!-- Question will be injected here -->
      <div id="questionContainer"></div>

      <!-- Next / Submit Buttons -->
      <button
        type="button"
        id="nextBtn"
      >
        Next
      </button>
      <button
        type="submit"
        id="submitBtn"
        style="display:none;"
      >
        Kirim
      </button>

    </form>
    <!-- SURVEY FORM END -->


    <!-- ============================ -->
    <!--   THANK YOU MESSAGE SECTION  -->
    <!-- ============================ -->
    <div id="thankYouMessage" style="display:none;">
      Terimakasih telah menjawab, hasilnya akan dikirim ke email anda dalam waktu yang singkat
      <div id="hiddenInfo">(probably 2 days)</div>
    </div>
    <!-- THANK YOU MESSAGE END -->


    <!-- ============================ -->
    <!--      AI OVERVIEW SECTION     -->
    <!-- ============================ -->
    <div id="aiOverview">
      <strong>AI Overview:</strong>
      <div id="aiContent"></div>
    </div>
    <!-- AI OVERVIEW END -->


    <!-- ============================ -->
    <!--      ANSWER VIEWER SECTION   -->
    <!-- ============================ -->
    <hr>
    <button
      id="showAnswersBtn"
      type="button"
    >
      ðŸ“‹ Lihat Semua Jawaban
    </button>
    <div
      id="answersContainer"
      style="display:none;"
    ></div>
    <!-- ANSWER VIEWER END -->

  </div>
  <!-- CONTAINER END -->


  <!-- ====================================================== -->
  <!--                    JAVASCRIPT SECTION                 -->
  <!--                     (full logic here)                 -->
  <!-- ====================================================== -->
  <script>
    // 92
    // SURVEY QUESTIONS ARRAY
    // 93
    const questions = [
      "1. Menurut kamu makanan junk food sehat atau tidak?",
      "2. Seberapa sering kamu mengonsumsi makanan junk food?",
      "3. Berapa kali kamu makan dalam sehari?",
      "4. Apakah kamu sering mengonsumsi soda/minuman berwarna?",
      "5. Apakah kamu sering mengonsumsi sayur sayuran?",
      "6. Sebutkan makanan yang bergizi dan tidak bergizi",
      "7. Menurut kamu makanan bergizi penting atau tidak bagi manusia?",
      "8. Sayur sayuran dan buah buahan apakah termasuk makanan bergizi?",
      "9. Apakah kamu hari ini sudah sarapan?",
      "10. Mengapa kebanyakan orang lebih suka mengonsumsi makanan junk food atau yang mengandung banyak minyak seperti gorengan?"
    ];
    // 106

    // STATE: CURRENT QUESTION INDEX
    let currentQuestion = 0;     // 107
    const answers = [];          // 108

    // DOM ELEMENTS
    const emailInput       = document.getElementById("email");                   // 109
    const questionContainer= document.getElementById("questionContainer");        // 110
    const nextBtn          = document.getElementById("nextBtn");                 // 111
    const submitBtn        = document.getElementById("submitBtn");               // 112
    const thankYouMessage  = document.getElementById("thankYouMessage");         // 113
    const hiddenInfo       = document.getElementById("hiddenInfo");              // 114
    const aiOverview       = document.getElementById("aiOverview");              // 115
    const aiContent        = document.getElementById("aiContent");               // 116
    const showAnswersBtn   = document.getElementById("showAnswersBtn");          // 117
    const answersContainer = document.getElementById("answersContainer");         // 118

    // FUNCTION: Show a question by index
    function showQuestion(index) {
      // build HTML
      let htmlString  = "";
      htmlString     += "<label for='answer'>" + questions[index] + "</label>";
      htmlString     += "<textarea id='answer' required placeholder='Jawaban kamu...'></textarea>";
      questionContainer.innerHTML = htmlString;
    }
    // 130

    // Call first question
    showQuestion(currentQuestion);  // 131

    // FUNCTION: Load stored answers from localStorage
    function loadStoredAnswers() {    // 132
      const stored = localStorage.getItem("allAnswers");  // 133
      if (!stored) {               // 134
        return [];                 // 135
      }
      return JSON.parse(stored);   // 136
    }
    // 137

    // FUNCTION: Save a submission
    function saveAnswer(email, answersArray) { // 138
      const allAnswers = loadStoredAnswers(); // 139
      const entry      = { email: email, answers: answersArray }; // 140
      allAnswers.push(entry);                 // 141
      localStorage.setItem("allAnswers", JSON.stringify(allAnswers)); // 142
    }
    // 143

    // FUNCTION: Render saved answers in a table
    function renderAnswers() {               // 144
      const allAnswers = loadStoredAnswers(); // 145
      if (allAnswers.length === 0) {         
